{"version":3,"file":"component---src-pages-tools-tsx-639224f1fc94e6689319.js","mappings":"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","sources":["webpack://steebe.dev/./src/components/widgets/antipodeWidget.tsx","webpack://steebe.dev/./src/components/widgets/widget.tsx","webpack://steebe.dev/./src/components/tools/tools.tsx","webpack://steebe.dev/./src/components/tools/tools.module.css","webpack://steebe.dev/./src/pages/tools.tsx"],"sourcesContent":["import React, { useState, useRef, useEffect, useCallback } from \"react\";\nimport { GoogleMap, useJsApiLoader } from \"@react-google-maps/api\";\nimport Widget from \"./widget\";\n\nconst MAP_CONTAINER_STYLE = { width: \"100%\", height: \"350px\" };\nconst DEFAULT_CENTER: google.maps.LatLngLiteral = { lat: 20, lng: 0 };\nconst DEFAULT_ZOOM = 2;\nconst ZOOMED_IN = 5;\nconst LIBRARIES: [\"marker\"] = [\"marker\"];\nconst TITLE = \"dig to China!\";\n\nconst toAntipode = (lat: number, lng: number): google.maps.LatLngLiteral => ({\n  lat: -lat,\n  lng: lng > 0 ? lng - 180 : lng + 180,\n});\n\nconst formatCoordinates = (lat: number, lng: number): string => {\n  const latDir = lat >= 0 ? \"N\" : \"S\";\n  const lngDir = lng >= 0 ? \"E\" : \"W\";\n  return `${Math.abs(lat).toFixed(2)}°${latDir}, ${Math.abs(lng).toFixed(2)}°${lngDir}`;\n};\n\nconst AntipodeWidget = () => {\n  const [mounted, setMounted] = useState(false);\n  const [origin, setOrigin] = useState<google.maps.LatLngLiteral | null>(null);\n  const [antipode, setAntipode] = useState<google.maps.LatLngLiteral | null>(null);\n  const [isAnimating, setIsAnimating] = useState(false);\n  const mapRef = useRef<google.maps.Map | null>(null);\n  const originMarkerRef = useRef<google.maps.marker.AdvancedMarkerElement | null>(null);\n  const antipodeMarkerRef = useRef<google.maps.marker.AdvancedMarkerElement | null>(null);\n\n  useEffect(() => {\n    setMounted(true);\n  }, []);\n\n  const { isLoaded } = useJsApiLoader({\n    id: \"google-map-script\",\n    googleMapsApiKey: process.env.GATSBY_GOOGLE_MAPS_API_KEY ?? \"\",\n    libraries: LIBRARIES,\n  });\n\n  const onLoad = useCallback((map: google.maps.Map) => {\n    mapRef.current = map;\n  }, []);\n\n  const onUnmount = useCallback(() => {\n    if (originMarkerRef.current) originMarkerRef.current.map = null;\n    if (antipodeMarkerRef.current) antipodeMarkerRef.current.map = null;\n    mapRef.current = null;\n  }, []);\n\n  const placeMarker = useCallback(\n    (\n      position: google.maps.LatLngLiteral,\n      markerRef: React.MutableRefObject<google.maps.marker.AdvancedMarkerElement | null>,\n    ) => {\n      if (markerRef.current) {\n        markerRef.current.map = null;\n      }\n      markerRef.current = new google.maps.marker.AdvancedMarkerElement({\n        map: mapRef.current,\n        position,\n      });\n    },\n    [],\n  );\n\n  const animateToAntipode = useCallback((destination: google.maps.LatLngLiteral) => {\n    const map = mapRef.current;\n    if (!map) return;\n    setIsAnimating(true);\n    map.setZoom(2);\n    setTimeout(() => {\n      map.panTo(destination);\n      setTimeout(() => {\n        map.setZoom(ZOOMED_IN);\n        setIsAnimating(false);\n      }, 1500);\n    }, 800);\n  }, []);\n\n  const onMapClick = useCallback(\n    (e: google.maps.MapMouseEvent) => {\n      if (isAnimating || !e.latLng) return;\n      const lat = e.latLng.lat();\n      const lng = e.latLng.lng();\n      const newOrigin = { lat, lng };\n      const newAntipode = toAntipode(lat, lng);\n      setOrigin(newOrigin);\n      setAntipode(newAntipode);\n      placeMarker(newOrigin, originMarkerRef);\n      placeMarker(newAntipode, antipodeMarkerRef);\n      animateToAntipode(newAntipode);\n    },\n    [isAnimating, placeMarker, animateToAntipode],\n  );\n\n  const handleReset = useCallback(() => {\n    if (originMarkerRef.current) {\n      originMarkerRef.current.map = null;\n      originMarkerRef.current = null;\n    }\n    if (antipodeMarkerRef.current) {\n      antipodeMarkerRef.current.map = null;\n      antipodeMarkerRef.current = null;\n    }\n    setOrigin(null);\n    setAntipode(null);\n    mapRef.current?.setCenter(DEFAULT_CENTER);\n    mapRef.current?.setZoom(DEFAULT_ZOOM);\n  }, []);\n\n  const antipodeLink =\n    typeof window !== \"undefined\" && window.location.pathname !== \"/antipode\"\n      ? \"/antipode\"\n      : undefined;\n\n  if (!mounted || !isLoaded) {\n    return <Widget title={TITLE}>Loading map...</Widget>;\n  }\n\n  return (\n    <Widget title={TITLE} to={antipodeLink}>\n      <p style={{ margin: \"0 0 0.75rem\", fontSize: \"0.85rem\" }}>\n        {isAnimating\n          ? \"Travelling to the antipode...\"\n          : origin\n            ? `Origin: ${formatCoordinates(origin.lat, origin.lng)}`\n            : \"Click anywhere on the map to find its antipode.\"}\n      </p>\n      {antipode && !isAnimating && (\n        <p style={{ margin: \"0 0 0.75rem\", fontSize: \"0.85rem\" }}>\n          Antipode: {formatCoordinates(antipode.lat, antipode.lng)}\n        </p>\n      )}\n      <GoogleMap\n        mapContainerStyle={MAP_CONTAINER_STYLE}\n        center={DEFAULT_CENTER}\n        zoom={DEFAULT_ZOOM}\n        onClick={onMapClick}\n        onLoad={onLoad}\n        onUnmount={onUnmount}\n        options={{\n          gestureHandling: \"cooperative\",\n          clickableIcons: false,\n          mapId: \"DEMO_MAP_ID\",\n          draggableCursor: \"crosshair\",\n          draggingCursor: \"grabbing\",\n        }}\n      />\n      {origin && !isAnimating && (\n        <button\n          onClick={handleReset}\n          style={{\n            marginTop: \"0.75rem\",\n            padding: \"0.5rem 1.25rem\",\n            fontSize: \"0.85rem\",\n            fontFamily: \"inherit\",\n            backgroundColor: \"#2f4f4f\",\n            color: \"white\",\n            border: \"none\",\n            borderRadius: \"4px\",\n            cursor: \"pointer\",\n          }}\n        >\n          Reset\n        </button>\n      )}\n    </Widget>\n  );\n};\n\nexport default AntipodeWidget;\n","import React from \"react\";\nimport { Link } from \"gatsby\";\nimport { OutboundLink } from \"gatsby-plugin-google-gtag\";\n\ninterface WidgetProps {\n  children: React.ReactNode;\n  title?: string;\n  to?: string;\n  url?: string;\n}\n\nconst Widget: React.FC<WidgetProps> = ({ children, title, to, url }) => {\n  const titleContent = title && (\n    <h2 style={{ marginTop: 0, marginBottom: \"1rem\", textAlign: \"left\" }}>\n      {to ? (\n        <Link to={to}>{title}</Link>\n      ) : url ? (\n        <OutboundLink href={url} target=\"_blank\" rel=\"noreferrer\">\n          {title}\n        </OutboundLink>\n      ) : (\n        title\n      )}\n    </h2>\n  );\n\n  return (\n    <div style={{ border: \"1px solid black\", padding: \"1rem\" }}>\n      {titleContent}\n      {children}\n    </div>\n  );\n};\n\nexport default Widget;\n","import React, { ReactNode } from \"react\";\nimport { siteImage } from \"../globals.module.css\";\nimport { contentContainer, description, image } from \"./tools.module.css\";\nimport { StaticImage } from \"gatsby-plugin-image\";\nimport Widget from \"../widgets/widget\";\nimport AntipodeWidget from \"../widgets/antipodeWidget\";\n\ntype Tool = {\n  name: string;\n  image: ReactNode;\n  description: string;\n  link: string;\n};\n\nconst Tools = () => {\n  const imageLength = 200;\n  const tools: Array<Tool> = [\n    {\n      name: \"unminipy\",\n      image: (\n        <StaticImage\n          src=\"../../images/unminipy-logo.png\"\n          alt=\"unminipy\"\n          height={imageLength}\n          width={imageLength}\n          className={siteImage}\n        />\n      ),\n      description: \"A small CLI utility for unminifying minified JSON to assist with readability.\",\n      link: \"https://github.com/steebe/unminipy/releases\",\n    },\n    {\n      name: \"domestic hearth\",\n      image: (\n        <StaticImage\n          src=\"../../images/domestic-hearth-logo.png\"\n          alt=\"domestic hearth\"\n          height={imageLength}\n          width={imageLength}\n          className={siteImage}\n        />\n      ),\n      description: \"A browser extension for overriding distractions.\",\n      link: \"https://chromewebstore.google.com/detail/domestic-hearth/gkfinngilpdbfjmmgcnjikelebdldcik?pli=1\",\n    },\n  ];\n\n  return (\n    <div style={{ display: \"flex\", flexDirection: \"column\", gap: \"1rem\" }}>\n      {tools.map((tool) => (\n        <Widget key={tool.name} title={tool.name} url={tool.link}>\n          <div className={contentContainer}>\n            <div className={image}>{tool.image}</div>\n            <p className={description}>{tool.description}</p>\n          </div>\n        </Widget>\n      ))}\n      <AntipodeWidget />\n    </div>\n  );\n};\n\nexport default Tools;\n","// extracted by mini-css-extract-plugin\nexport var container = \"tools-module--container--f04d6\";\nexport var contentContainer = \"tools-module--content-container--d2a7e\";\nexport var description = \"tools-module--description--6df14\";\nexport var image = \"tools-module--image--1f058\";","import React from \"react\";\nimport Layout from \"../components/layout/layout\";\nimport Tools from \"../components/tools/tools\";\n\nconst ToolsPage = () => {\n  return (\n    <Layout>\n      <Tools />\n    </Layout>\n  );\n};\n\nexport default ToolsPage;\n"],"names":["MAP_CONTAINER_STYLE","width","height","DEFAULT_CENTER","lat","lng","LIBRARIES","TITLE","formatCoordinates","latDir","lngDir","Math","abs","toFixed","AntipodeWidget","_process$env$GATSBY_G","mounted","setMounted","useState","origin","setOrigin","antipode","setAntipode","isAnimating","setIsAnimating","mapRef","useRef","originMarkerRef","antipodeMarkerRef","useEffect","isLoaded","useJsApiLoader","id","googleMapsApiKey","process","libraries","onLoad","useCallback","map","current","onUnmount","placeMarker","position","markerRef","google","maps","marker","AdvancedMarkerElement","animateToAntipode","destination","setZoom","setTimeout","panTo","onMapClick","e","latLng","newOrigin","newAntipode","toAntipode","handleReset","_mapRef$current","_mapRef$current2","setCenter","antipodeLink","window","location","pathname","undefined","React","Widget","title","to","style","margin","fontSize","GoogleMap","mapContainerStyle","center","zoom","onClick","options","gestureHandling","clickableIcons","mapId","draggableCursor","draggingCursor","marginTop","padding","fontFamily","backgroundColor","color","border","borderRadius","cursor","_ref","children","url","titleContent","marginBottom","textAlign","Link","OutboundLink","href","target","rel","Tools","imageLength","tools","name","image","StaticImage","src","alt","className","siteImage","__imageData","require","description","link","display","flexDirection","gap","tool","key","ToolsPage","Layout"],"sourceRoot":""}